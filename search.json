[{"path":"https://statisticsnorway.github.io/SSBpris/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"The MIT License","title":"The MIT License","text":"Copyright 2023 Statistisk sentralbyrå - Statistics Norway Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"https://statisticsnorway.github.io/SSBpris/SECURITY.html","id":null,"dir":"","previous_headings":"","what":"Security Policy","title":"Security Policy","text":"SSB takes security software products services seriously, includes source code repositories managed GitHub organization. believe responsible disclosure security vulnerabilities helps us ensure security privacy users.","code":""},{"path":"https://statisticsnorway.github.io/SSBpris/SECURITY.html","id":"reporting-a-vulnerability","dir":"","previous_headings":"","what":"Reporting a Vulnerability","title":"Security Policy","text":"believe found security vulnerability SSB’s GitHub repositories, please report us using Github Private vulnerability reporting tool.","code":""},{"path":"https://statisticsnorway.github.io/SSBpris/articles/SSBpris-vignette.html","id":"vignette-info","dir":"Articles","previous_headings":"","what":"Vignette Info","title":"Veiledning i SSBpris","text":"Note various macros within vignette section metadata block . required order instruct R build vignette. Note change title field \\VignetteIndexEntry match title vignette.","code":""},{"path":"https://statisticsnorway.github.io/SSBpris/articles/SSBpris-vignette.html","id":"styles","dir":"Articles","previous_headings":"","what":"Styles","title":"Veiledning i SSBpris","text":"html_vignette template includes basic CSS theme. override theme can specify CSS document metadata follows:","code":"output:    rmarkdown::html_vignette:     css: mystyles.css"},{"path":"https://statisticsnorway.github.io/SSBpris/articles/SSBpris-vignette.html","id":"figures","dir":"Articles","previous_headings":"","what":"Figures","title":"Veiledning i SSBpris","text":"figure sizes customised can easily put two images side--side.  can enable figure captions fig_caption: yes YAML: can use chunk option fig.cap = \"figure caption.\" knitr.","code":"plot(1:10) plot(10:1) output:   rmarkdown::html_vignette:     fig_caption: yes"},{"path":"https://statisticsnorway.github.io/SSBpris/articles/SSBpris-vignette.html","id":"more-examples","dir":"Articles","previous_headings":"","what":"More Examples","title":"Veiledning i SSBpris","text":"can write math expressions, e.g. \\(Y = X\\beta + \\epsilon\\), footnotes1, tables, e.g. using knitr::kable(). Also quote using >: “gives [code] safety [code] speed deserves neither.” (via)","code":"library(SSBpris) data(\"priceData\")  CalcInd(data=priceData, baseVar=\"b1\", pVar=\"p1\", type=\"jevons\", groupVar=\"varenr\", consumVar = NULL, wVar = \"weight\")  #> Warning: No consumer group variable was specified so an index was calculated #> for each elementary group. #> Warning in CalcInd(data = priceData, baseVar = \"b1\", pVar = \"p1\", type = #> \"jevons\", : Elementary group weights did not add to one and have been scaled. #>         1         2         3         4         5         6         7         8  #> 1.0539505 1.0028772 1.0944981 1.0017560 0.9845511 1.0005522 1.0014880 1.0398922  #>         9        10        11        12        13        14        15        16  #> 1.0545919 1.0530359 1.0276294 1.0120950 1.0061017 1.0121247 1.0022978 1.0188527  #>        17        18        19        20        21        22        23        24  #> 1.0360861 1.0644728 1.0324028 1.0145528 1.0625093 1.0192284 1.0299098 1.0189841  #>        25        26        27        28        29        30        31        32  #> 0.9964447 1.0430734 1.0307777 0.9880650 1.0394796 1.0360856 1.0960219 1.0236226  #>        33        34        35        36        37        38        39        40  #> 1.0311001 1.0157865 1.0306689 1.0233371 1.0278152 1.0466457 1.0223706 1.0788976  #>        41        42        43        44        45        46        47        48  #> 1.0864876 0.9914069 1.0179040 1.0298613 1.0271920 1.0313625 1.0509045 1.0289209  #>        49        50        51        52        53        54        55        56  #> 1.0307649 1.0298606 1.0625053 1.0154815 1.0093457 1.0714008 1.0087565 1.0273193  #>        57        58        59        60        61        62        63        64  #> 1.0178380 0.9972983 1.0046590 0.9994301 0.9719945 1.0546761 1.0081769 1.0098887  #>        65        66        67        68        69        70        71        72  #> 1.0343937 0.9877617 1.0183837 0.9909766 1.0258743 0.9737955 1.0565840 1.0367297  #>        73        74        75        76        77        78        79        80  #> 1.0224960 1.0186353 1.0393530 1.0156496 1.0486500 1.0626645 1.0634039 1.0248403  #>        81        82        83        84        85        86        87        88  #> 1.0868674 1.0488213 1.0641034 1.0046891 1.0643506 1.0129695 0.9961668 1.0573619  #>        89        90        91        92        93        94        95        96  #> 1.0051264 1.0261694 1.0258682 0.9795391 1.0346499 0.9998584 1.0464673 1.0198447  #>        97        98        99       100       101       102       103       104  #> 1.0197537 1.0522087 1.0061814 1.0184880 1.0249874 1.0283376 1.0272750 1.0159400  #>       105       106       107       108       109       110       111       112  #> 1.0046354 1.0215354 1.0361772 1.0391133 1.0097634 1.0677518 1.0396020 1.0037629  #>       113       114       115       116       117       118       119       120  #> 1.0341543 1.0341299 1.0262806 0.9841818 1.0553283 1.0220326 1.0191662 1.0181769  #>       121       122       123       124       125       126       127       128  #> 1.0102090 1.0563444 1.0408178 0.9738287 1.0232065 1.0218697 1.0474010 0.9925945  #>       129       130       131       132       133       134       135       136  #> 1.0309587 1.0960107 1.0343723 0.9974898 0.9897213 1.0104255 0.9962156 1.0122075  #>       137       138       139       140       141       142       143       144  #> 1.0148058 0.9999690 1.0212295 1.0302462 1.0315783 1.0517064 1.0377130 1.0255911  #>       145       146       147       148       149       150       151       152  #> 1.0258608 1.0595503 1.0511051 1.0273948 1.0145604 1.0188839 1.0136995 0.9921676  #>       153       154       155       156       157       158       159       160  #> 1.0116946 1.0207098 1.0613060 1.0549144 0.9799509 1.0451236 1.0163969 1.0093682  #>       161       162       163       164       165       166       167       168  #> 1.0140566 1.0232423 1.0161983 1.0184514 1.0540262 0.9592681 1.0042335 1.0292417  #>       169       170       171       172       173       174       175       176  #> 1.0395368 1.0371178 1.0645367 1.0048243 1.0518922 0.9931518 1.0246264 1.0154316  #>       177       178       179       180       181       182       183       184  #> 1.0526112 1.0019241 1.0136677 1.0207241 1.0167715 1.0053618 1.0537007 1.0443670  #>       185       186       187       188       189       190       191       192  #> 1.0462701 1.0210060 1.0513857 1.0504464 1.0164743 1.0181593 1.0339258 0.9974444  #>       193       194       195       196       197       198       199       200  #> 1.0050735 1.0355457 1.0077574 1.0348762 1.0256120 1.0356277 0.9915530 1.0139649"},{"path":"https://statisticsnorway.github.io/SSBpris/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Øyvind Langsrud. Author. Susie Jentoft. Author. Anne Vedø. Author, maintainer. SSB. Copyright holder.","code":""},{"path":"https://statisticsnorway.github.io/SSBpris/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Langsrud Ø, Jentoft S, Vedø (2024). SSBpris: Tools price index calculations. R package version 0.1.3.","code":"@Manual{,   title = {SSBpris: Tools for price index calculations},   author = {Øyvind Langsrud and Susie Jentoft and Anne Vedø},   year = {2024},   note = {R package version 0.1.3}, }"},{"path":"https://statisticsnorway.github.io/SSBpris/index.html","id":"ssbpris","dir":"","previous_headings":"","what":"Tools for price index calculations","title":"Tools for price index calculations","text":"package contains functions calculating price indices variances. also contains useful function allocating samples used price indices. Clikk online documentation package allocation samples price indices can found (norsk internal SSB document): https://wiki.ssb./display/s880/Standard+utvalgsplanlegging++Norsamu?preview=/32669820/32964617/SBS-utvalgsplanlegging.pdf","code":""},{"path":"https://statisticsnorway.github.io/SSBpris/reference/AllocM.html","id":null,"dir":"Reference","previous_headings":"","what":"Internal allocation M function — AllocM","title":"Internal allocation M function — AllocM","text":"sure actually use price index","code":""},{"path":"https://statisticsnorway.github.io/SSBpris/reference/AllocM.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Internal allocation M function — AllocM","text":"","code":"AllocM(bhgData, n0)"},{"path":"https://statisticsnorway.github.io/SSBpris/reference/AllocM.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Internal allocation M function — AllocM","text":"bhgData Data giving average number price observations stratum group. n0 Allocation","code":""},{"path":"https://statisticsnorway.github.io/SSBpris/reference/AllocM.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Internal allocation M function — AllocM","text":"m","code":""},{"path":"https://statisticsnorway.github.io/SSBpris/reference/AllocTot.html","id":null,"dir":"Reference","previous_headings":"","what":"Internal allocation function — AllocTot","title":"Internal allocation function — AllocTot","text":"sure used price index ...","code":""},{"path":"https://statisticsnorway.github.io/SSBpris/reference/AllocTot.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Internal allocation function — AllocTot","text":"","code":"AllocTot(s2, w, ai, totn)"},{"path":"https://statisticsnorway.github.io/SSBpris/reference/AllocTot.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Internal allocation function — AllocTot","text":"s2 Sigma squared values w Weights vector ai Adjustment factor totn Total sample size","code":""},{"path":"https://statisticsnorway.github.io/SSBpris/reference/AllocTot.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Internal allocation function — AllocTot","text":"ni","code":""},{"path":"https://statisticsnorway.github.io/SSBpris/reference/CalcInd.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculation of the estimate for a price index — CalcInd","title":"Calculation of the estimate for a price index — CalcInd","text":"Calculation price index","code":""},{"path":"https://statisticsnorway.github.io/SSBpris/reference/CalcInd.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculation of the estimate for a price index — CalcInd","text":"","code":"CalcInd(data, baseVar, pVar, type, groupVar, consumVar = NULL, wVar = NULL)"},{"path":"https://statisticsnorway.github.io/SSBpris/reference/CalcInd.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculation of the estimate for a price index — CalcInd","text":"data dataset baseVar variable name base goods price. pVar variable name goods price. type type index calculate. Choose : 'carli', 'dutot', 'jevons'. groupVar variable used grouping observations - sometimes called elementary group consumVar variable used grouping elementary groups. may publishing level. wVar variable used weight elementary groups consumer publishing level.","code":""},{"path":"https://statisticsnorway.github.io/SSBpris/reference/CalcInd.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculation of the estimate for a price index — CalcInd","text":"estimates index returned vector length equal number groups (groupVar consumVar specified).","code":""},{"path":"https://statisticsnorway.github.io/SSBpris/reference/CalcInd.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Calculation of the estimate for a price index — CalcInd","text":"","code":"{ data(priceData) # Calculate index for consumer groups CalcInd(data = priceData, baseVar = \"b1\", pVar = \"p1\", groupVar = \"varenr\", wVar = \"weight\",    consumVar = \"coicop\", type = \"dutot\") CalcInd(data = priceData, baseVar = \"b1\", pVar = \"p1\", groupVar = \"varenr\", wVar = \"weight\",    consumVar = \"coicop\", type = \"carli\") CalcInd(data = priceData, baseVar = \"b1\", pVar = \"p1\", groupVar = \"varenr\", wVar = \"weight\",    consumVar = \"coicop\", type = \"jevons\")    # Calculate index for elemenatry groups (weighted) CalcInd(data = priceData, baseVar = \"b1\", pVar = \"p1\", groupVar = \"varenr\", wVar = \"weight\",     type = \"dutot\")        } #> Warning: Elementary group weights did not add to one and have been scaled. #> Warning: Elementary group weights did not add to one and have been scaled. #> Warning: Elementary group weights did not add to one and have been scaled. #> Warning: No consumer group variable was specified so an index was calculated for each elementary group. #> Warning: Elementary group weights did not add to one and have been scaled. #>         1         2         3         4         5         6         7         8  #> 1.0491782 0.9916579 1.0919232 0.9971484 0.9776819 1.0122949 1.0082979 1.0410994  #>         9        10        11        12        13        14        15        16  #> 1.0657426 1.0458119 1.0126660 1.0087542 1.0119236 1.0202207 1.0154042 1.0204284  #>        17        18        19        20        21        22        23        24  #> 1.0404285 1.0635197 1.0343509 0.9839625 1.0591687 1.0296146 1.0179432 1.0114293  #>        25        26        27        28        29        30        31        32  #> 0.9980075 1.0325678 1.0184376 0.9917827 1.0438475 1.0516548 1.1019312 1.0255544  #>        33        34        35        36        37        38        39        40  #> 1.0059274 1.0195331 1.0264037 1.0193352 0.9949706 1.0335269 1.0005686 1.0757601  #>        41        42        43        44        45        46        47        48  #> 1.0841688 0.9949837 0.9997077 1.0276529 1.0164630 1.0287131 1.0475356 1.0274997  #>        49        50        51        52        53        54        55        56  #> 1.0186174 1.0312737 1.0722388 1.0139797 1.0168422 1.0754973 1.0071958 1.0202791  #>        57        58        59        60        61        62        63        64  #> 1.0026775 1.0058940 1.0030017 0.9997709 0.9799183 1.0478942 1.0110590 1.0115428  #>        65        66        67        68        69        70        71        72  #> 1.0739428 0.9794139 1.0212139 0.9870189 1.0317518 0.9650201 1.0614352 1.0221492  #>        73        74        75        76        77        78        79        80  #> 1.0274920 1.0415765 1.0500053 1.0021974 1.0667718 1.0605561 1.0751474 1.0336029  #>        81        82        83        84        85        86        87        88  #> 1.0863649 1.0437152 1.0501207 1.0057534 1.0676503 1.0302636 1.0008981 1.0675389  #>        89        90        91        92        93        94        95        96  #> 0.9959739 1.0268511 1.0201997 0.9777202 1.0279413 1.0009408 1.0264877 1.0103826  #>        97        98        99       100       101       102       103       104  #> 1.0170851 1.0384248 1.0000014 1.0177277 1.0345633 1.0300957 1.0476841 1.0164684  #>       105       106       107       108       109       110       111       112  #> 1.0127264 1.0475748 1.0351660 1.0249665 1.0114083 1.0502433 1.0598351 1.0119547  #>       113       114       115       116       117       118       119       120  #> 1.0299265 1.0200079 1.0427289 0.9906708 1.0518309 1.0123277 1.0134508 1.0079136  #>       121       122       123       124       125       126       127       128  #> 1.0058585 1.0632656 1.0373929 0.9685996 1.0243814 1.0172798 1.0434409 0.9756649  #>       129       130       131       132       133       134       135       136  #> 1.0363835 1.0958327 1.0206910 0.9865309 0.9908110 1.0040474 0.9931275 1.0179996  #>       137       138       139       140       141       142       143       144  #> 1.0079795 1.0078089 1.0476088 1.0340241 1.0201028 1.0562831 1.0297616 1.0270815  #>       145       146       147       148       149       150       151       152  #> 1.0314082 1.0641822 1.0495536 1.0333891 1.0183344 1.0253208 1.0093552 1.0100153  #>       153       154       155       156       157       158       159       160  #> 1.0308649 1.0048242 1.0614685 1.0775324 0.9815208 1.0292993 0.9982024 1.0133232  #>       161       162       163       164       165       166       167       168  #> 1.0129391 1.0301208 1.0049818 1.0209796 1.0605804 0.9603525 0.9858467 1.0418124  #>       169       170       171       172       173       174       175       176  #> 1.0218097 1.0433452 1.0616003 1.0282483 1.0462104 0.9881764 1.0256537 1.0233769  #>       177       178       179       180       181       182       183       184  #> 1.0605085 1.0214452 1.0091499 1.0175753 1.0171524 0.9930452 1.0530682 1.0687364  #>       185       186       187       188       189       190       191       192  #> 1.0602363 1.0094292 1.0511469 1.0330998 1.0204593 1.0404494 1.0349803 0.9897180  #>       193       194       195       196       197       198       199       200  #> 1.0027196 1.0410686 1.0322500 1.0577304 1.0199610 1.0255261 0.9869663 1.0227391"},{"path":"https://statisticsnorway.github.io/SSBpris/reference/CalcIndS2.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculation of variance/sigma squared for price index — CalcIndS2","title":"Calculation of variance/sigma squared for price index — CalcIndS2","text":"Calculation sigma squared price index.","code":""},{"path":"https://statisticsnorway.github.io/SSBpris/reference/CalcIndS2.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculation of variance/sigma squared for price index — CalcIndS2","text":"","code":"CalcIndS2(data, baseVar, pVar, groupVar, type = c(\"carli\", \"dutot\", \"jevons\"))"},{"path":"https://statisticsnorway.github.io/SSBpris/reference/CalcIndS2.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculation of variance/sigma squared for price index — CalcIndS2","text":"data dataset baseVar variable name base goods price. pVar variable name goods price. groupVar variable used grouping observations - sometimes called elementary group type type index calculate. Choose : 'carli', 'dutot', 'jevons'","code":""},{"path":"https://statisticsnorway.github.io/SSBpris/reference/CalcIndS2.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculation of variance/sigma squared for price index — CalcIndS2","text":"s2 sigma squred values strata group ai adjustment factor used calculations zmat Matrix z values can used check outliers","code":""},{"path":"https://statisticsnorway.github.io/SSBpris/reference/CalcIndS2.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Calculation of variance/sigma squared for price index — CalcIndS2","text":"","code":"{ # Call in test dataset for an index data(priceData)  # Calculate s2 for an index ss <- CalcIndS2(data = priceData, baseVar = \"b1\", pVar = \"p1\", groupVar = \"varenr\",  type = \"carli\") ss <- CalcIndS2(data = priceData, baseVar = \"b1\", pVar = \"p1\", groupVar = \"coicop\",  type = \"jevons\")  # print out s2 values ss$s2 } #>           1           2           3           4           5           6  #> 0.001978245 0.001990785 0.002007839 0.002246234 0.001714990 0.001735577  #>           7           8           9          10  #> 0.002014489 0.002415221 0.002093395 0.001990386"},{"path":"https://statisticsnorway.github.io/SSBpris/reference/Carli.html","id":null,"dir":"Reference","previous_headings":"","what":"Carli index calculation — Carli","title":"Carli index calculation — Carli","text":"Carli index calculation","code":""},{"path":"https://statisticsnorway.github.io/SSBpris/reference/Carli.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Carli index calculation — Carli","text":"","code":"Carli(x, y, na.rm = TRUE, ze.rm = TRUE)"},{"path":"https://statisticsnorway.github.io/SSBpris/reference/Carli.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Carli index calculation — Carli","text":"x Vector base prices. y Vector prices statistical time period. na.rm Logical whether remove missing values x y calculation. ze.rm Logical whether remove missing values instrument variable calculations.","code":""},{"path":"https://statisticsnorway.github.io/SSBpris/reference/Carli.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Carli index calculation — Carli","text":"Price index (L-type)","code":""},{"path":"https://statisticsnorway.github.io/SSBpris/reference/Dutot.html","id":null,"dir":"Reference","previous_headings":"","what":"Dutot index calculation — Dutot","title":"Dutot index calculation — Dutot","text":"Dutot index calculation","code":""},{"path":"https://statisticsnorway.github.io/SSBpris/reference/Dutot.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Dutot index calculation — Dutot","text":"","code":"Dutot(x, y, na.rm = TRUE, ze.rm = TRUE)"},{"path":"https://statisticsnorway.github.io/SSBpris/reference/Dutot.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Dutot index calculation — Dutot","text":"x Vector base prices. y Vector prices statistical time period. na.rm Logical whether remove missing values x y calculation. ze.rm Logical whether remove missing values instrument variable calculations.","code":""},{"path":"https://statisticsnorway.github.io/SSBpris/reference/Dutot.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Dutot index calculation — Dutot","text":"Price index (L-type)","code":""},{"path":"https://statisticsnorway.github.io/SSBpris/reference/FillStrataInd.html","id":null,"dir":"Reference","previous_headings":"","what":"Optimal allocation of sample sizes by filling up or down for an index — FillStrataInd","title":"Optimal allocation of sample sizes by filling up or down for an index — FillStrataInd","text":"function finds optimal allocation filling one (several) units time stratum().","code":""},{"path":"https://statisticsnorway.github.io/SSBpris/reference/FillStrataInd.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Optimal allocation of sample sizes by filling up or down for an index — FillStrataInd","text":"","code":"FillStrataInd(   totm,   bhg,   totVar,   min_n,   max_n,   steps = 1,   rand,   direction = \"up\" )"},{"path":"https://statisticsnorway.github.io/SSBpris/reference/FillStrataInd.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Optimal allocation of sample sizes by filling up or down for an index — FillStrataInd","text":"totm total desired sample size number units select  (number desired observations). bhg matrix giving average number observations elementary  group stratum. See Zhang 2015 details. totVar variance index function n (number observations). min_n minimum sample size stratum. can single number  used strata vector numbers (one stratum). max_n maximum sample size stratum. can single number  used strata vector numbers (one stratum). steps number strata fill iteration. Default set 1. rand specify number strata consider random selection fill .  example rand = 10 randomly select 1 (number specified steps) strata  fill based top 10 using probabilities proportional difference  variances. missing, algorithm chose top strata. Currently  programmed direction = '' direction Specify direction algorithm work: \"\" fill 0 minimum value \"\" remove one unit time maximum starting point.","code":""},{"path":"https://statisticsnorway.github.io/SSBpris/reference/FillStrataInd.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Optimal allocation of sample sizes by filling up or down for an index — FillStrataInd","text":"alloc vector new sample sizes strata. totvar Total variance","code":""},{"path":"https://statisticsnorway.github.io/SSBpris/reference/FillStrataInd.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Optimal allocation of sample sizes by filling up or down for an index — FillStrataInd","text":"","code":"{   # call in test dataset data(priceData)  # Calculate index for consumer groups CalcInd(data = priceData, baseVar = \"b1\", pVar = \"p1\", groupVar = \"varenr\", wVar = \"weight\",          consumVar = \"coicop\", type = \"dutot\")  # Calculate s2 for index s2 <- CalcIndS2(data = priceData, baseVar = \"b1\", pVar = \"p1\", groupVar = \"varenr\",                  type = \"carli\")$s2  # Calculate bhg matrix ngh <- as.matrix(table(priceData$nace3, priceData$varenr)) mh <- matrix(rep(table(priceData$nace3), 200), 5, 200) bhg <- ngh/mh   # Specify variance function for n (number of observations) - unweighted VarP <- function(n){ return(sum(s2 / n , na.rm = TRUE)) }  # Run algorithm filling up one at a time for sample size of 300 a <- FillStrataInd(totm = 300, bhg, totVar = VarP, min_n = 1, steps = 1,   direction = \"up\") a  # Run algorithm filling down one at a time max_n <- table(priceData$nace3) a <- FillStrataInd(totm = 300, bhg = bhg, totVar = VarP, min_n = 1, max_n = max_n,   steps = 1, direction = \"down\") a } #> Warning: Elementary group weights did not add to one and have been scaled. #> $alloc #> 863 864 873 875 882  #>  59  57  48  91  45  #>  #> $totvar #> [1] 0.294182 #>"},{"path":"https://statisticsnorway.github.io/SSBpris/reference/Jevons.html","id":null,"dir":"Reference","previous_headings":"","what":"Jevons index caluclation — Jevons","title":"Jevons index caluclation — Jevons","text":"Jevons index caluclation","code":""},{"path":"https://statisticsnorway.github.io/SSBpris/reference/Jevons.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Jevons index caluclation — Jevons","text":"","code":"Jevons(x, y)"},{"path":"https://statisticsnorway.github.io/SSBpris/reference/Jevons.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Jevons index caluclation — Jevons","text":"x Vector base prices. y Vector prices statistical time period.","code":""},{"path":"https://statisticsnorway.github.io/SSBpris/reference/Jevons.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Jevons index caluclation — Jevons","text":"Price index (L-type)","code":""},{"path":"https://statisticsnorway.github.io/SSBpris/reference/SpecialRound.html","id":null,"dir":"Reference","previous_headings":"","what":"Rounding strata sample sizes — SpecialRound","title":"Rounding strata sample sizes — SpecialRound","text":"Function rounding strata sample sizes ensure total sample size remains ","code":""},{"path":"https://statisticsnorway.github.io/SSBpris/reference/SpecialRound.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Rounding strata sample sizes — SpecialRound","text":"","code":"SpecialRound(x)"},{"path":"https://statisticsnorway.github.io/SSBpris/reference/SpecialRound.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Rounding strata sample sizes — SpecialRound","text":"x vector unrounded strata sample sizes","code":""},{"path":"https://statisticsnorway.github.io/SSBpris/reference/SpecialRound.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Rounding strata sample sizes — SpecialRound","text":"vector round strata sizes total sample size held constant.","code":""},{"path":"https://statisticsnorway.github.io/SSBpris/reference/SpecialRound.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Rounding strata sample sizes — SpecialRound","text":"","code":"{   jj <- c(4.2, 4.2, 4.2, 4.3, 4.3, 4.4, 4.4) SpecialRound(jj) } #> [1] 4 4 4 4 4 5 5"},{"path":"https://statisticsnorway.github.io/SSBpris/reference/SwapStrataInd.html","id":null,"dir":"Reference","previous_headings":"","what":"Optimal allocation of sample sizes by swapping — SwapStrataInd","title":"Optimal allocation of sample sizes by swapping — SwapStrataInd","text":"function finds optimal allocation swapping one unit time two strata. Beta version: use caution - needs extra testing","code":""},{"path":"https://statisticsnorway.github.io/SSBpris/reference/SwapStrataInd.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Optimal allocation of sample sizes by swapping — SwapStrataInd","text":"","code":"SwapStrataInd(m, bhg, totVar, min_n, max_n, iter = 100)"},{"path":"https://statisticsnorway.github.io/SSBpris/reference/SwapStrataInd.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Optimal allocation of sample sizes by swapping — SwapStrataInd","text":"m Starting values sample size stratum. sum desired sample size. bhg matrix giving average number observations elementary group stratum. See Zhang 2015 details. totVar variance index function n (number observations). See example (?). min_n minimum sample size stratum. can single number used strata vector numbers (one stratum). max_n maximum sample size stratum. can single number used strata vector numbers (one stratum). iter Number unsuccessful iterations algorithm try stopping. Default 100.","code":""},{"path":"https://statisticsnorway.github.io/SSBpris/reference/SwapStrataInd.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Optimal allocation of sample sizes by swapping — SwapStrataInd","text":"Returns vector new sample sizes strata","code":""},{"path":"https://statisticsnorway.github.io/SSBpris/reference/SwapStrataInd.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Optimal allocation of sample sizes by swapping — SwapStrataInd","text":"","code":"{   # call in test dataset data(priceData)  # Calculate s2 for index s2 <- CalcIndS2(data = priceData, baseVar = \"b1\", pVar = \"p1\", groupVar = \"varenr\",                  type = \"carli\")$s2  # Calculate bhg matrix ngh <- table(priceData$nace3, priceData$varenr) mh <- matrix(rep(table(priceData$nace3), 200), 5, 200) bhg <- ngh/mh   # Specify variance function for n (number of observations) - unweighted VarP <- function(n){   return(sum(s2 / n , na.rm = TRUE)) }  # Start values for sample size in each strata with equal numbers (adding to 300)  m <- rep(300/5, 5)  # Run Swap strata a <- SwapStrataInd(m = m, bhg = bhg, totVar = VarP, iter = 100) a } #> There has been 55 succesful iterations.  #> [1] 59 57 48 91 45"},{"path":"https://statisticsnorway.github.io/SSBpris/reference/priceData.html","id":null,"dir":"Reference","previous_headings":"","what":"Price test dataset — priceData","title":"Price test dataset — priceData","text":"dataset test dataset containing small sample 1000 goods prices. Variables include goods price 3 periods base price three equivalent periods.","code":""},{"path":"https://statisticsnorway.github.io/SSBpris/reference/priceData.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Price test dataset — priceData","text":"","code":"data(priceData)"},{"path":"https://statisticsnorway.github.io/SSBpris/reference/priceData.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Price test dataset — priceData","text":"Dataset containing variables:: dufNr company number nace5 industry group (5 digits) nace3 industry group (3digits) varenr identity number specific goods coicop grouping variable goods similar. publishing level. weight Variable specifying weight given based type goods. p1 price first period p2 price second period p3 price third period b1 base price used first period b2 base price used second period b3 base price used third period","code":""}]
